<!DOCTYPE html>
<html>
<head>
<title>Love Wall</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body{
margin:0;
font-family:Arial;
background:#ff5b8a;
color:white;
padding:8px;
}

h3{text-align:center;margin:5px;font-size:16px;}

input,textarea{
width:100%;
padding:6px;
margin-top:4px;
border:none;
border-radius:6px;
font-size:12px;
}

textarea{height:45px;}

button{
margin-top:6px;
width:100%;
padding:6px;
border-radius:15px;
border:none;
background:white;
color:#ff4f8b;
font-size:12px;
}

.msg{
background:rgba(255,255,255,.25);
padding:5px;
border-radius:8px;
margin-top:5px;
font-size:11px;
}

#all{
max-height:55vh;
overflow-y:auto;
margin-top:6px;
}
</style>
</head>

<body>

<h3>üíå Love Wall</h3>

<input id="name" placeholder="Name">
<textarea id="msg" placeholder="Message"></textarea>

<button onclick="send()">Send ‚ù§Ô∏è</button>

<div id="all"></div>

<script type="module">

import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import { getDatabase, ref, push, onChildAdded } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js";

const firebaseConfig = {
apiKey: "AIzaSyAetysNyLP1kFZIWM-IhDtHH_Kq7HoSGxg",
authDomain: "vmlove-a2df1.firebaseapp.com",
databaseURL: "https://vmlove-a2df1-default-rtdb.asia-southeast1.firebasedatabase.app",
projectId: "vmlove-a2df1",
storageBucket: "vmlove-a2df1.firebasestorage.app",
messagingSenderId: "932908158778",
appId: "1:932908158778:web:eb8185babb63b8aff80a03"
};

const app = initializeApp(firebaseConfig);
const db = getDatabase(app);
const wall = ref(db,"wall");

/* SEND */
window.send=function(){
if(name.value==""||msg.value=="") return alert("Fill both");
push(wall,{name:name.value,msg:msg.value});
name.value="";
msg.value="";
}

/* SHOW */
onChildAdded(wall,s=>{
let d=s.val();
let div=document.createElement("div");
div.className="msg";
div.innerHTML="<b>"+d.name+"</b><br>"+d.msg;
all.prepend(div);
});

</script>

</body>
</html>
